# <center>数据库引论实验报告</center>

[TOC]

## 1 项目介绍

### 1.1 项目背景

　　Cat-World是为所以喜欢撸猫的人设计的一个猫咪养成类网页小游戏。以Django框架来实现整体功能。游戏中可以有两类角色，主人和商店管理者。主人可以在商店中购买食物并在公园里给野生的猫咪喂食，当好感度达到一定值时就可以领养小猫；商店管理者则主要是管理商店的货物，可以调整货物价格以及进货情况。

### 1.2 分工情况

|  |  |  |
| :--: | :--: | :--: |
| 罗翔 | 17307130191 | 主要负责数据库设计以及前后端的部分动态交互以及少量的前端工作，还有数据库数据的收集 |
| 解润芃 |17307130196 | 主要负责游戏机制的设计，前端设计，少部分数据库设计，一些功能调整，以及大部分数据库与后端交互 |

### 1.3 运行方式

```
$ pip install Django 		   //安装Django框架
$ pip install pillow		   //Django中涉及到图片的使用，需要一个第三方库
$ python manage.py runserver   //启动服务器
```

在浏览器中输入http://127.0.0.1:8000/即可访问。

### 1.4 Django简介

　　Django是由Python写成的一个开放源代码的Web应用框架，它封装了前端(html)-后端(python)-数据库(sqlite)，使得程序员可以专注于编写应用程序。在传统的数据驱动网站中，Web应用程序会等待来自Web浏览器的 HTTP 请求。当接收到请求时，应用程序根据 URL 和可能的 POST 数据或 GET 数据中的信息确定需要的内容。根据需要，可以从数据库读取或写入信息，或执行满足请求所需的其他任务。然后，该应用程序将返回对Web浏览器的响应，通常通过将检索到的数据插入HTML模板中的占位符来动态创建用于浏览器显示的 HTML 页面。而Django网络应用程序则通常将处理每个步骤的代码分组到单独的文件中：

<img src="https://gitee.com/sunflower_wiki/Pictures-For-Lab/raw/master/Database/basic-django.png" >

- **URLs:** URL映射器用于根据请求URL将HTTP请求重定向到相应的视图。URL映射器还可以匹配出现在URL中的字符串或数字的特定模式，并将其作为数据传递给视图功能。
- **View:**  视图是一个请求处理函数，它接收HTTP请求并返回HTTP响应。视图通过模型访问满足请求所需的数据，并将响应的格式委托给模板。
- **Models:**  模型是定义应用程序数据结构的Python对象，并提供在数据库中管理（添加，修改，删除）和查询记录的机制。
- **Templates:** 模板是定义文件（例如HTML页面）的结构或布局的文本文件，用于表示实际内容的占位符。一个视图可以使用HTML模板，通过数据填充它可以动态地创建一个HTML页面模型。



## 2 项目细节

### 2.1 概述——游戏核心机制

### 2.2 面向主人的功能

### 2.3 面向管理者的功能


## 3 数据库简介

### 3.1 数据库设计

#### 3.1.1 ER图

  <img src="https://gitee.com/sunflower_wiki/Pictures-For-Lab/raw/master/Database/ER%20picture.jpg">

#### 3.1.2 模型设计（表格，实体，主键、外键等等）

### 3.2 涉及数据库的操作

#### 3.2.1 面向主人的操作

- 注册账号
- 登陆账号
- 个人信息
  - 查看背包
  - 查看基本信息
  - 查看拥有猫咪
  - 喂食家中猫咪
- 查看所有猫咪信息
- 猫咪筛选器
- 公园相关
  - 查看公园列表
  - 查看公园中猫咪情况
  - 喂食公园中猫咪
  - 领养猫咪
- 市场相关
  - 查看市场列表
  - 查看市场售卖食物
  - 买食物
  - 卖食物
  - 查看与商店管理员的对话
  - 创建与商店管理员的对话
  - 删除与商店管理员的对话

#### 3.2.2 面向管理者的操作

- 登入管理员界面
- 查看个人信息
- 查看仓库情况
- 查看所有食物情况
- 调整食物价格
- 调整进货情况
  - 买入货物
  - 卖出货物
- 与买家对话系统
  - 查看对话
  - 创建对话
  - 删除对话

#### 3.2.3 一些潜在的操作

- 食物的随即生成
- 食物价格的随机波动
- 猫的随机生成
- 猫的饥饿机制
- 猫的逃离机制

## 4 web界面介绍

### 4.1 网页设计理念及风格

#### 4.1.1 涉及理念

#### 4.1.2 布局 

#### 4.1.3 元素

#### 4.1.4 主题

#### 4.1.5 动画

#### 4.1.6 交互

### 4.2 主要网页功能解释

## 5 参考

### 5.1 web模块连链接

### 5.2 参考教程以及文献



